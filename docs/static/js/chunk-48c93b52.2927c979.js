(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48c93b52"],{"0db7":function(t,e,i){"use strict";i("2563")},2563:function(t,e,i){},"2bac":function(t,e,i){"use strict";i("4ca5")},"396f":function(t,e,i){"use strict";i("b84e")},"3e05":function(t,e){t.exports={load(t="https://as.alipayobjects.com/g/cicada/monaco-editor-mirror/0.6.1/min",e){if(window.monaco)return void e();const i={paths:{vs:t+"/vs"}},a=i.paths.vs+"/loader.js",n=()=>{if(window.LOADER_PENDING&&window.require.config(i),window.require(["vs/editor/editor.main"],()=>{e()}),window.LOADER_PENDING){window.LOADER_PENDING=!1;const t=window.LOADER_CALLBACKS;if(t&&t.length){let e=t.shift();while(e)e.fn.call(e.window),e=t.shift()}}};if(window.LOADER_PENDING)window.LOADER_CALLBACKS=window.LOADER_CALLBACKS||[],window.LOADER_CALLBACKS.push({window:this,fn:n});else if("undefined"===typeof window.require){const t=window.document.createElement("script");t.type="text/javascript",t.src=a,t.addEventListener("load",n),window.document.body.appendChild(t),window.LOADER_PENDING=!0}else n()}}},"4ca5":function(t,e,i){},"550f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"data-selection att-container",staticStyle:{"margin-top":"10px",padding:"0 5px"}},[i("div",{staticClass:"style-item"},[t._m(0),i("div",{staticClass:"style-item__content",staticStyle:{width:"210px"}},[i("div",{staticClass:"att-select item-inline",staticStyle:{width:"100px","margin-right":"15px"}},[i("el-select",{attrs:{placeholder:""},model:{value:t.thisDatasource.type,callback:function(e){t.$set(t.thisDatasource,"type",e)},expression:"thisDatasource.type"}},[i("el-option",{attrs:{label:t.$t("DataSource_Selection.static"),value:"static"}}),i("el-option",{attrs:{label:t.$t("DataSource_Selection.dynamic"),value:"dynamic"}}),i("el-option",{attrs:{label:t.$t("DataSource_Selection.history"),value:"history"}})],1)],1),i("div",{staticClass:"att-button item-inline",staticStyle:{width:"50px"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"developing...",placement:"top"}},[i("el-button",[t._v(t._s(t.$t("DataSource_Selection.Data_Source")))])],1)],1)])]),i("hr"),i("div",{staticClass:"json-editor-wrapper"},[i("MonacoEditor",{staticClass:"json-editor",attrs:{width:"100%",height:"100%",language:"json",code:JSON.stringify(t.data,null,"\t"),options:{readOnly:!0,lineDecorationsWidth:"0px",lineNumbersMinChars:1}},on:{mounted:t.onMounted,codeChange:t.onCodeChange}}),t.editor.isLoading?i("div",{staticClass:"json-editor__loading"},[i("i",{staticClass:"el-icon-loading"})]):t._e()],1),i("Modal",{attrs:{"is-show":t.datasourceSelection.isModalShow,width:1500},on:{close:t.handleCancel},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("資料來源")]},proxy:!0},{key:"content",fn:function(){},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticStyle:{float:"right"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("Add")]),i("el-button",{on:{click:t.handleCancel}},[t._v("Cancel")])],1)]},proxy:!0}])})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"style-item__text",staticStyle:{width:"40px"}},[i("span",{staticClass:"icon-ds-light"})])}],o=(i("a434"),i("2909")),s=i("ed08"),c=i("cb15"),r=i("dba0"),d=i.n(r),l={name:"DatasourceSelection",components:{Modal:c["a"],MonacoEditor:d.a},props:{data:{type:Array,default:function(){return[]}},dataSource:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return{isMutipleSelect:!0,dataBasicType:2,denyType:[],showTabs:["address","compute"]}}}},data:function(){return{defaultAddressChecked:[],defaultArithmeticChecked:[],selected:null,datasourceSelection:{isModalShow:!1},test:{a:0,b:"[]",c:0,d:0},editor:{isLoading:!0,instance:null}}},computed:{thisDatasource:{get:function(){return this.dataSource},set:function(t){this.$emit("update",Object(s["d"])(t))}}},mounted:function(){var t=this;console.log("mount"),this.editor.isLoading=!0,this.$nextTick((function(){setTimeout((function(){t.editor.isLoading=!1,t.editor.instance.layout()}),2e3)}))},methods:{onMounted:function(t){this.editor.instance=t},onCodeChange:function(t){console.log(t.getValue())},handleSelectionChange:function(t){this.$emit("update",Object(s["d"])(t))},onDrop:function(t){this.thisDatasource=this.applyDrag(Object(o["a"])(this.thisDatasource),t)},applyDrag:function(t,e){var i=e.removedIndex,a=e.addedIndex,n=e.payload;if(null===i&&null===a)return t;var s=Object(o["a"])(t),c=n;return null!==i&&(c=s.splice(i,1)[0]),null!==a&&s.splice(a,0,c),s},handleAdd:function(){this.handleSelectionChange(this.selected),this.datasourceSelection.isModalShow=!1},handleCancel:function(){this.datasourceSelection.isModalShow=!1},openDataSelectionModal:function(){this.datasourceSelection.isModalShow=!0},changeDatasource:function(t){this.selected=[t]}}},u=l,h=(i("396f"),i("2877")),f=Object(h["a"])(u,a,n,!1,null,"7c70f7ea",null);e["a"]=f.exports},5902:function(t,e,i){"use strict";i.r(e);var a=i("c642"),n=i("d8a8");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},"851b":function(t,e,i){"use strict";i("cb03")},b84e:function(t,e,i){},c642:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:t.style})},n=[]},cb03:function(t,e,i){},cb15:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("transition",{attrs:{name:"fade"}},[t.isShow?i("div",{staticClass:"modal-background modal-ap-info"},[i("div",{directives:[{name:"draggable",rawName:"v-draggable:dragable",arg:"dragable"}],staticClass:"modal ",style:{width:t.width+"px"}},[t.isLoading?i("div",{staticClass:"modal-loading"},[i("svg",{attrs:{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"}},[i("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[i("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),i("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),i("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"}},[i("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),i("animate",{attrs:{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),i("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[i("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),i("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])]):t._e(),i("div",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}},[i("i",{staticClass:"el-icon-close"})]),i("div",{staticClass:"modal-header",attrs:{id:"dragable"}},[t._t("header")],2),i("div",{staticClass:"modal-content"},[t._t("content")],2),i("div",{staticClass:"modal-buttons"},[t._t("footer")],2)])]):t._e()])],1)},n=[],o=(i("a9e3"),{name:"Modal",props:{width:{type:Number,default:400},isShow:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{}}}),s=o,c=(i("2bac"),i("0db7"),i("2877")),r=Object(c["a"])(s,a,n,!1,null,"1808869a",null);e["a"]=r.exports},d8a8:function(t,e,i){"use strict";i.r(e);var a=i("e860"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},dba0:function(t,e,i){var a=i("5902");t.exports=a},ddf6:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-tab",class:{left:"left"===t.direction,right:"right"===t.direction}},[i("div",{staticClass:"side-tab__title",on:{click:t.toggleContent}},[i("div",{staticClass:"side-tab__title__text",class:{actived:"first"==t.actTab},on:{click:function(e){return e.stopPropagation(),t.tabClick("first")}}},[i("div",{staticClass:"label"},[t._v(t._s(t.title[0]||""))]),i("div",{staticClass:"line"})]),t.title.length>1?i("div",{staticClass:"side-tab__title__text",class:{actived:"second"==t.actTab},staticStyle:{"margin-left":"20px"},on:{click:function(e){return e.stopPropagation(),t.tabClick("second")}}},[i("div",{staticClass:"label"},[t._v(t._s(t.title[1]||""))]),i("div",{staticClass:"line"})]):t._e(),i("div",{staticClass:"side-tab__title__icon"},[t.isShowScoped?t._e():i("i",{staticClass:"fa fa-caret-left",attrs:{"aria-hidden":"true"}}),t.isShowScoped?i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}):t._e()])]),t.isShowScoped?i("div",{staticClass:"side-tab__content"},["first"==t.actTab?t._t("first"):t._e(),"second"==t.actTab?t._t("second"):t._e()],2):t._e()])},n=[],o={name:"SideTab",props:{title:{type:Array,default:function(){return[]}},isShow:{type:Boolean,default:!0},direction:{type:String,default:"left"}},data:function(){return{isShowScoped:!0,actTab:"first"}},watch:{isShow:{handler:function(t,e){t!==e&&(this.isShowScoped=t)},deep:!0}},methods:{toggleContent:function(){this.isShowScoped=!this.isShowScoped,this.$emit("update",!this.isShowScoped)},tabClick:function(t){this.actTab=t}}},s=o,c=(i("851b"),i("2877")),r=Object(c["a"])(s,a,n,!1,null,null,null);e["a"]=r.exports},e860:function(t,e,i){i("4160"),i("c975"),i("a9e3"),i("d3b7"),i("25f0"),i("159b");var a=i("f7fe"),n=i("3e05");t.exports={props:{width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},code:{type:String,default:"// code \n"},srcPath:{type:String},language:{type:String,default:"javascript"},theme:{type:String,default:"vs-dark"},options:{type:Object,default:function(){}},highlighted:{type:Array,default:function(){return[{number:0,class:""}]}},changeThrottle:{type:Number,default:0}},mounted:function(){this.fetchEditor()},destroyed:function(){this.destroyMonaco()},computed:{style:function(){var t=this.width,e=this.height,i=-1!==t.toString().indexOf("%")?t:"".concat(t,"px"),a=-1!==e.toString().indexOf("%")?e:"".concat(e,"px");return{width:i,height:a}},editorOptions:function(){return Object.assign({},this.defaults,this.options,{value:this.code,language:this.language,theme:this.theme})}},data:function(){return{defaults:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0}}},watch:{highlighted:{handler:function(t){this.highlightLines(t)},deep:!0}},methods:{highlightLines:function(t){var e=this;this.editor&&t.forEach((function(t){var i=t.class,a=e.$el.querySelector(".".concat(i));a&&a.classList.remove(i);var n=parseInt(t.number);if(!(!e.editor&&n<1||isNaN(n))){var o=e.$el.querySelector('.view-lines [linenumber="'.concat(n,'"]'));o&&o.classList.add(i)}}))},editorHasLoaded:function(t,e){var i=this;this.editor=t,this.monaco=e,this.editor.onDidChangeModelContent((function(e){return i.codeChangeHandler(t,e)})),this.$emit("mounted",t)},codeChangeHandler:function(t){this.codeChangeEmitter||(this.codeChangeEmitter=a((function(t){this.$emit("codeChange",t)}),this.changeThrottle)),this.codeChangeEmitter(t)},fetchEditor:function(){n.load(this.srcPath,this.createMonaco)},createMonaco:function(){this.editor=window.monaco.editor.create(this.$el,this.editorOptions),this.editorHasLoaded(this.editor,window.monaco)},destroyMonaco:function(){"undefined"!==typeof this.editor&&this.editor.dispose()}}}}}]);