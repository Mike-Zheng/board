(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56b6af0a"],{"0844":function(t,e,i){"use strict";i("294e")},"24d7":function(t,e,i){},"27d4":function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return c}));i("d81d"),i("b0c0"),i("07ac");var n=i("ed08"),o=i("c3cc"),a=function(){return Object(n["d"])(s.$editProp)},s={$id:"",$type:{_typeId:"",_template:"",_templateAttr:"",_title:""},$property:{_x:0,_y:0,_height:1,_width:1,_minWidth:1,_minHeight:1,_name:"",_visible:"",_opacity:"",_backgroundColor:"rgba(255, 255, 255, 255)",_defaultWidth:1,_defaultHeight:1},$dataSource:{type:"static",request_url:"",data:[]},$editProp:{selected:!1,disconnected:!1,locked:!1}},r={text:Object(n["c"])({},s,{$type:{_typeId:"text",_template:"ItemText",_templateAttr:"ItemTextAttr",_title:"text"},$property:{_defaultWidth:1,_defaultHeight:1,fontColor:"#000",fontSize:16,fontWeight:"normal"}})};o["a"].map((function(t){console.log(t),r[t.name]=Object(n["c"])({},s,{$type:{_typeId:t.name,_template:t.component,_templateAttr:"ChartAttr",_title:t.name},$property:{_defaultWidth:2,_defaultHeight:2,option:t.option}})}));var l=Object.values(r);function c(t){if(t in r)return r[t]}},"294e":function(t,e,i){},"2b00":function(t,e,i){"use strict";i("24d7")},"2bac":function(t,e,i){"use strict";i("4ca5")},"40de":function(t,e,i){"use strict";i("59c0")},"4ace":function(t,e,i){"use strict";i("c7f8")},"4ca5":function(t,e,i){},"59c0":function(t,e,i){},"63d9":function(t,e,i){},"851b":function(t,e,i){"use strict";i("cb03")},"9a47":function(t,e,i){},a378:function(t,e,i){"use strict";i("9a47")},a486:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"dashboard-editor-main"},[i("div",{staticClass:"dashboard-editor-main__title",attrs:{id:"title"}},[i("div",{staticClass:"tool-menu-wrapper"},[i("vue-file-toolbar-menu",{attrs:{content:t.menu}})],1),i("div",{staticClass:"project-name"},[t._v(" project ")]),i("div",{staticClass:"nav-tools"},[i("div",{staticClass:"feature-info",staticStyle:{width:"100px"}},[i("lang-select-nav",{staticClass:"feature-info__lang",scopedSlots:t._u([{key:"toggle",fn:function(e){var n=e.text;return[i("div",{staticClass:"feature-info__lang__btn",staticStyle:{margin:"0 auto"}},[t._v(" "+t._s(n)+" "),i("span",{staticClass:"feature-info__lang__icon"},[i("svg-icon",{attrs:{"icon-class":"language"}})],1)])]}}])})],1),i("div",{staticClass:"feature-info"},[i("el-button",{attrs:{type:"button"},on:{click:t.preview}},[t._v(t._s(t.$t("Project_Editor.Preview")))])],1)])]),i("div",{staticClass:"side-panel"},[i("side-tab",{attrs:{title:[t.$t("Project_Editor.PAGES")]}},[i("pages",{attrs:{slot:"first"},slot:"first"})],1),i("side-tab",{attrs:{title:[t.$t("Project_Editor.WIDGETS"),t.$t("Project_Editor.LAYERS")]}},[i("widgets",{attrs:{slot:"first"},slot:"first"}),i("layer",{attrs:{slot:"second"},slot:"second"})],1)],1),i("div",{staticClass:"dashboard-editor-main__nav-tool"},[i("ul",{staticClass:"tools-wrapper"},[i("li",[i("div",{staticClass:"btn-icon",on:{click:t.save}},[i("svg-icon",{attrs:{"icon-class":"save"}})],1)]),i("li",[i("div",{staticClass:"btn-icon",class:{disabled:0===t.widgetSelected.length},on:{click:t.deleteWidget}},[i("svg-icon",{attrs:{"icon-class":"delete"}})],1)]),i("li",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","z"],expression:"['ctrl', 'z']"}],on:{shortkey:function(e){return t.$store.dispatch("editor/undo")}}},[i("div",{staticClass:"btn-icon",class:{disabled:!t.isUndoEnabled},on:{click:function(e){return t.$store.dispatch("editor/undo")}}},[i("svg-icon",{attrs:{"icon-class":"undo"}})],1)]),i("li",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","y"],expression:"['ctrl', 'y']"}],on:{shortkey:function(e){return t.$store.dispatch("editor/redo")}}},[i("div",{staticClass:"btn-icon",class:{disabled:!t.isRedoEnabled},on:{click:function(e){return t.$store.dispatch("editor/redo")}}},[i("svg-icon",{attrs:{"icon-class":"redo"}})],1)]),i("li",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","c"],expression:"['ctrl', 'c']"}],on:{shortkey:t.copyWidget}},[i("div",{staticClass:"btn-icon",class:{disabled:!t.singleSelected},on:{click:function(e){return t.copyWidget()}}},[i("svg-icon",{attrs:{"icon-class":"copy"}})],1)]),i("li",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","v"],expression:"['ctrl', 'v']"}],on:{shortkey:t.pasteWidget}},[i("div",{staticClass:"btn-icon",class:{disabled:!t.singleSelected||0===t.widgetCopied.length},on:{click:t.pasteWidget}},[i("svg-icon",{attrs:{"icon-class":"paste"}})],1)]),i("li",[i("div",{staticClass:"btn-icon",class:{disabled:0===t.widgetSelectedWithUnLock.length},on:{click:t.lockWidget}},[i("i",{staticClass:"el-icon-lock"})])]),i("li",[i("div",{staticClass:"btn-icon",class:{disabled:0===t.widgetSelectedWithLock.length},on:{click:t.unlockWidget}},[i("i",{staticClass:"el-icon-unlock"})])])])]),i("div",{staticClass:"dashboard-editor-main__content",class:{"sidebar--open":t.isSidebarOpen}},[i("div",{staticClass:"work-area-page-tab"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleTabClick},model:{value:t.pageTab,callback:function(e){t.pageTab=e},expression:"pageTab"}},t._l(t.pageTabs,(function(t){return i("el-tab-pane",{key:t.id,attrs:{label:t.label,name:t.id}})})),1)],1),i("div",{staticClass:"work-area-page-view"},[i("div",{staticClass:"content-wrapper",style:{transform:"scale("+t.editScale+")",width:"calc(100% / "+t.editScale+")",height:"calc(100% / "+t.editScale+")"}},[t.isRulerShow?i("div",{staticClass:"ruler ruler-top",attrs:{id:"rulerTop"}},[i("div",{staticClass:"ruler-wrapper"},t._l(t.rulerMarker,(function(e,n){return i("label",{key:n,style:{left:100*n+"px"}},[t._v(t._s(100*e))])})),0)]):t._e(),t.isRulerShow?i("div",{staticClass:"ruler ruler-left",attrs:{id:"rulerLeft"}},[i("div",{staticClass:"ruler-wrapper"},t._l(t.rulerMarker,(function(e,n){return i("label",{key:n,style:{top:100*n+"px"}},[t._v(t._s(100*e))])})),0)]):t._e(),i("div",{ref:"content",staticClass:"work-area-wrapper",attrs:{id:"content"}},[i("fullscreen",{ref:"fullscreen",staticClass:"fullscreen",attrs:{fullscreen:t.fullscreen,background:"#EEE"},on:{"update:fullscreen":function(e){t.fullscreen=e}}},[i("work-area",{ref:"workArea"})],1)],1)])]),i("div",{staticClass:"work-area-view-option"},[i("ul",[i("li",[i("el-checkbox",{model:{value:t.isRulerShow,callback:function(e){t.isRulerShow=e},expression:"isRulerShow"}},[t._v(" "+t._s(t.$t("Project_Editor.Ruler")))])],1),i("li",[i("el-checkbox",{model:{value:t.isGridShow,callback:function(e){t.isGridShow=e},expression:"isGridShow"}},[t._v(" "+t._s(t.$t("Project_Editor.Grid")))])],1),i("li",[i("el-checkbox",{model:{value:t.isAuxiliaryLineShow,callback:function(e){t.isAuxiliaryLineShow=e},expression:"isAuxiliaryLineShow"}},[t._v(" "+t._s(t.$t("Project_Editor.Auxiliary_line")))])],1)]),i("div",{staticClass:"scale-slider"},[i("el-slider",{attrs:{step:.25,min:.5,max:1.5},model:{value:t.editScale,callback:function(e){t.editScale=e},expression:"editScale"}})],1)])]),i("div",{staticClass:"dashboard-editor-main__sidebar",class:{"sidebar--open":t.isSidebarOpen}},[i("div",{staticClass:"dashboard-editor-main__sidebar__wrapper"},[i("div",{staticClass:"dashboard-editor-main__sidebar__hanlderbar",on:{click:function(e){return t.$store.commit("editor/TOGGLE_SIDEBAR")}}},[i("div",{staticStyle:{"line-height":"45px","text-align":"center"}},[t._v("|")])]),i("div",{staticClass:"dashboard-editor-main__sidebar__content"},[1==t.widgetSelected.length?i(t.widgetSelected[0].$type._templateAttr,{tag:"component",attrs:{widget:t.widgetSelected[0]},on:{save:t.saveWidgetItemSetting,selectAssets:t.openSelectAssetsModal}}):i("page-attr",{attrs:{dashboard:t.editFile.content[t.currentTabIndex]}})],1)])]),i("Modal",{attrs:{"is-show":t.isEditorModalShow,width:600},on:{close:function(e){t.isEditorModalShow=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("dev mode")]},proxy:!0},{key:"content",fn:function(){return[i("v-jsoneditor",{attrs:{plus:!1,height:"400px"},model:{value:t.tempJson,callback:function(e){t.tempJson=e},expression:"tempJson"}})]},proxy:!0},{key:"footer",fn:function(){return[i("el-button",{staticClass:"original-style",staticStyle:{"min-width":"80px"},on:{click:t.saveDevModal}},[t._v("Ok")]),i("el-button",{staticClass:"original-style",staticStyle:{"min-width":"80px"},on:{click:t.canceDevlModal}},[t._v("Cancel")])]},proxy:!0}])}),i("Modal",{attrs:{"is-show":t.assetsSelection.isModalShow,width:750},on:{close:t.cancelWidgetAssetsSelectedModal},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("assets")]},proxy:!0},{key:"content",fn:function(){return[i("assetSelection",{on:{update:t.updateAssetSelection}})]},proxy:!0},{key:"footer",fn:function(){return[i("el-button",{staticClass:"original-style",staticStyle:{"min-width":"80px"},on:{click:t.saveWidgetAssetsSelectedModal}},[t._v("Ok")]),i("el-button",{staticClass:"original-style",staticStyle:{"min-width":"80px"},on:{click:t.cancelWidgetAssetsSelectedModal}},[t._v("Cancel")])]},proxy:!0}])})],1)},o=[],a=(i("4de4"),i("c740"),i("d81d"),i("d3b7"),i("ddb0"),i("96cf"),i("1da1")),s=i("2909"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("transition",{attrs:{name:"fade"}},[t.isShow?i("div",{staticClass:"modal-background modal-ap-info"},[i("div",{directives:[{name:"draggable",rawName:"v-draggable:dragable",arg:"dragable"}],staticClass:"modal ",style:{width:t.width+"px"}},[t.isLoading?i("div",{staticClass:"modal-loading"},[i("svg",{attrs:{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"}},[i("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[i("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),i("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),i("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"}},[i("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),i("animate",{attrs:{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),i("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[i("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),i("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])]):t._e(),i("div",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}},[i("i",{staticClass:"el-icon-close"})]),i("div",{staticClass:"modal-header",attrs:{id:"dragable"}},[t._t("header")],2),i("div",{staticClass:"modal-content"},[t._t("content")],2),i("div",{staticClass:"modal-buttons"},[t._t("footer")],2)])]):t._e()])],1)},l=[],c=(i("a9e3"),{name:"Modal",props:{width:{type:Number,default:400},isShow:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{}}}),d=c,u=(i("2bac"),i("a378"),i("2877")),h=Object(u["a"])(d,r,l,!1,null,"82581eca",null),p=h.exports,g=i("ed08"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"work-area-container"},[i("div",{ref:"workArea",staticClass:"work-area",style:{width:t.colNum*t.defaultGridSize+10+"px"},attrs:{id:"workArea"},on:{contextmenu:t.openContextmenu}},[t.panMove.isPanMode?i("div",{staticClass:"pan-wrapper"}):t._e(),i("div",{staticClass:"selection-overlay"}),i("div",{ref:"dropLayer",staticClass:"layout-wrapper",class:{"is-grid":t.$store.state.editor.viewOption.isGrid},on:{dragover:function(e){return e.preventDefault(),t.handleDragOver(e)},dragenter:t.handleDragEnter,dragleave:t.handleDragLeave,dragEnd:t.handleDragEnd,drop:function(e){return e.preventDefault(),t.handleWidgetDrop(e)}}},[i("grid-layout",{ref:"layout",staticClass:"layout",attrs:{layout:t.widgetComps,"col-num":parseInt(t.colNum),"row-height":t.defaultWidgetSize,"is-draggable":!0,"is-resizable":!0,"prevent-collision":t.isPreventCollision,"vertical-compact":!1,"use-css-transforms":!1,responsive:!1,margin:[10,10]},on:{"update:layout":function(e){t.widgetComps=e},"layout-created":t.layoutCreatedEvent,"layout-before-mount":t.layoutBeforeMountEvent,"layout-mounted":t.layoutMountedEvent,"layout-ready":t.layoutReadyEvent,"layout-updated":t.layoutUpdatedEvent}},t._l(t.widgetComps,(function(e,n){return i("grid-item",{key:e.i+n,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i,"is-selected":e.$editProp.selected,"min-w":e.minW,"min-h":e.minH,scale:t.editScale,static:e.$editProp.locked},on:{resize:t.resize,move:t.move,resized:t.resized,"container-resized":t.containerResized,moved:t.moved}},[i("div",{staticClass:"widget-control-tools"},[e.$editProp.locked?i("span",[i("i",{staticClass:"el-icon-lock"})]):t._e()]),i("div",{staticClass:"widget-content",class:{"widget-content--selected":e.$editProp.selected}},[i(e.$type._template,{tag:"component",attrs:{mode:"editor",config:e},on:{openSettingModal:t.openSettingModal}})],1)])})),1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.editor.viewOption.isAuxiliaryLine,expression:"$store.state.editor.viewOption.isAuxiliaryLine"}],staticClass:"layout-background",style:{"--aux-height":t.pageAttrAuxiliaryLine.height,"--aux-width":t.pageAttrAuxiliaryLine.width}},[i("div",{staticClass:"layout-rule layout-rule-custom",style:{height:t.pageAttrAuxiliaryLine.height+"px",width:t.pageAttrAuxiliaryLine.width+"px","--aux-height":t.pageAttrAuxiliaryLine.height,"--aux-width":t.pageAttrAuxiliaryLine.width}},[i("div",{staticClass:"label"},[t._v(t._s(t.pageAttrAuxiliaryLine.width+" x "+t.pageAttrAuxiliaryLine.height+" "))])])])]),i("v-contextmenu",{ref:"contextmenuAll"},[i("v-contextmenu-item",{attrs:{disabled:"single"!==t.contextmenu.mode},on:{click:t.setWidgetCopied}},[t._v("複製")]),i("v-contextmenu-item",{attrs:{disabled:"blank"!==t.contextmenu.mode||0===t.widgetCopied.length},on:{click:t.pasteWidgetCopied}},[t._v("此處貼上")]),i("v-contextmenu-item",{attrs:{disabled:"blank"===t.contextmenu.mode||t.contextmenu.lock.isLockShow},on:{click:t.lockedWidgetContextmenu}},[t._v("鎖定")]),i("v-contextmenu-item",{attrs:{disabled:"blank"===t.contextmenu.mode||t.contextmenu.lock.isUnlockShow},on:{click:t.unlockedWidgetContextmenu}},[t._v("解鎖定")]),i("v-contextmenu-item",{attrs:{disabled:"blank"===t.contextmenu.mode},on:{click:t.deleteWidgetContextmenu}},[t._v("刪除")])],1)],1)},m=[],v=(i("cb29"),i("7db0"),i("4160"),i("c975"),i("a434"),i("b680"),i("ac1f"),i("5319"),i("159b"),i("5530")),_=i("84c2"),y=i("899b"),b=(i("f89b"),i("27d4")),w=i("1e6a"),S=i.n(w),x=(i("99af"),i("caad"),i("2532"),i("b85c")),C=i("53ca"),$=i("3835");i("a630"),i("fb6a"),i("4fad"),i("3ca3");function k(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var a,s=Object(x["a"])(e);try{for(s.s();!(a=s.n()).done;){var r,l=a.value,c=Object(x["a"])(i);try{for(c.s();!(r=c.n()).done;){var d=r.value;l[t](d,n,Object(v["a"])({capture:!1},o))}}catch(u){c.e(u)}finally{c.f()}}}catch(u){s.e(u)}finally{s.f()}return Array.prototype.slice.call(arguments,1)}var E=k.bind(null,"addEventListener"),T=k.bind(null,"removeEventListener"),A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return"number"===typeof t?t+e:t};function W(t,e,i){var n=t&&t.style;if(n)if("object"===Object(C["a"])(e))for(var o=0,a=Object.entries(e);o<a.length;o++){var s=Object($["a"])(a[o],2),r=s[0],l=s[1];n[r]=A(l)}else i&&"string"===typeof e&&(n[e]=A(i))}function L(t,e,i){switch(i||"touch"){case"center":var n=e.left+e.width/2,o=e.top+e.height/2;return n>=t.left&&n<=t.right&&o>=t.top&&o<=t.bottom;case"cover":return e.left>=t.left&&e.top>=t.top&&e.right<=t.right&&e.bottom<=t.bottom;case"touch":return t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom;default:throw new Error("Unkown intersection mode: ".concat(i))}}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;Array.isArray(t)||(t=[t]);for(var i=[],n=0,o=t.length;n<o;n++){var a=t[n];"string"===typeof a?i.push.apply(i,Object(s["a"])(e.querySelectorAll(a))):a instanceof e.defaultView.HTMLElement&&i.push(a)}return i}function I(t){var e=t.path||t.composedPath&&t.composedPath();if(e&&e.length>0)return e;var i=t.target;for(e=[i];i=i.parentElement;)e.push(i);return e.push(document,window),e}function O(t,e){var i=t.indexOf(e);~i&&t.splice(i,1)}function P(t){var e=t.touches&&t.touches[0]||t;return{tap:e,x:e.clientX,y:e.clientY,target:e.target}}var D=Math.abs,j=Math.max,R=Math.min,N=Math.round,z=Math.ceil,B=function(t){return t.preventDefault()},G="undefined"===typeof window.DOMRect?window.ClientRect:window.DOMRect;function F(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={options:Object.assign({class:"selection-area",frame:document,mode:"touch",tapMode:"native",startThreshold:10,singleClick:!0,disableTouch:!1,selectables:[],scrollSpeedDivider:10,manualScrollSpeed:750,startareas:["html"],boundaries:["html"],selectionAreaContainer:"body"},t),_stored:[],_selectables:[],_selected:[],_changed:{added:[],removed:[]},_eventListener:{beforestart:[],start:[],move:[],stop:[]},_area:null,_areaDomRect:null,_clippingElement:null,_scrollAvailable:!0,_scrollSpeed:{x:null,y:null},_init:function(){var t=e.options.frame;e._area=t.createElement("div"),e._clippingElement=t.createElement("div"),e._clippingElement.appendChild(e._area),e._area.classList.add(e.options.class),W(e._area,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),W(e._clippingElement,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"1"}),e.enable()},_bindStartEvents:function(t){var i=e.options.frame,n="on"===t?E:T;n(i,"mousedown",e._onTapStart),e.options.disableTouch||n(i,"touchstart",e._onTapStart,{passive:!1})},_onTapStart:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=P(t),o=n.x,a=n.y,s=n.target,r=e.options,l=r.startareas,c=r.boundaries,d=r.frame,u=s.getBoundingClientRect(),h=M(l,d);e._boundaries=M(c,d),e._targetContainer=e._boundaries.find((function(t){return L(t.getBoundingClientRect(),u)}));var p=I(t);e._targetContainer&&h.find((function(t){return p.includes(t)}))&&e._boundaries.find((function(t){return p.includes(t)}))&&(i||!1!==e._emit("beforestart",t))&&(e._ax1=o,e._ay1=a,e._ax2=0,e._ay2=0,e._singleClick=!0,e.clearSelection(!1),E(d,"selectstart",B),E(d,["touchmove","mousemove"],e._delayedTapMove,{passive:!1}),E(d,["mouseup","touchcancel","touchend"],e._onTapStop),t.preventDefault())},_onSingleTap:function(t){var i=e.options.tapMode,n=P(t),o=null;if("native"===i)o=n.target;else{if("touch"!==i)throw new Error("Unknown tapMode option: ".concat(i));e.resolveSelectables();var a=n.x,r=n.y;o=e._selectables.find((function(t){var e=t.getBoundingClientRect(),i=e.right,n=e.left,o=e.top,s=e.bottom;return a<i&&a>n&&r<s&&r>o}))}if(!o)return!1;e.resolveSelectables();while(!e._selectables.includes(o)){if(!o.parentElement)return;o=o.parentElement}e._emit("start",t);var l=e._stored;if(t.shiftKey&&l.length){var c=l[l.length-1],d=4&c.compareDocumentPosition(o)?[o,c]:[c,o],u=Object($["a"])(d,2),h=u[0],p=u[1],g=[].concat(Object(s["a"])(e._selectables.filter((function(t){return 4&t.compareDocumentPosition(h)&&2&t.compareDocumentPosition(p)}))),[o]);e.select(g),e._emit("move",t),e._emit("stop",t)}else e._stored.includes(o)?e.removeFromSelection(o):e.select(o),e._emit("move",t),e._emit("stop",t)},_delayedTapMove:function(t){var i=P(t),n=i.x,o=i.y,a=e.options,s=a.startThreshold,r=a.frame,l=e._ax1,c=e._ay1,d=Object(C["a"])(s);if("number"===d&&D(n+o-(l+c))>=s||"object"===d&&D(n-l)>=s.x||D(o-c)>=s.y){T(r,["mousemove","touchmove"],e._delayedTapMove,{passive:!1}),E(r,["mousemove","touchmove"],e._onTapMove,{passive:!1}),W(e._area,"display","block"),M(e.options.selectionAreaContainer,r)[0].appendChild(e._clippingElement),e.resolveSelectables(),e._singleClick=!1;var u=e._targetBoundary=e._targetContainer.getBoundingClientRect();N(e._targetContainer.scrollHeight)!==N(u.height)||N(e._targetContainer.scrollWidth)!==N(u.width)?(e._scrollAvailable=!0,E(window,"wheel",e._manualScroll,{passive:!1}),e._selectables=e._selectables.filter((function(t){return e._targetContainer.contains(t)})),W(e._clippingElement,{top:u.top,left:u.left,width:u.width,height:u.height}),W(e._area,{marginTop:-u.top,marginLeft:-u.left})):(e._scrollAvailable=!1,W(e._clippingElement,{top:0,left:0,width:"100%",height:"100%"}),W(e._area,{marginTop:0,marginLeft:0})),e._onTapMove(t),e._emit("start",t)}t.preventDefault()},_onTapMove:function(t){var i=P(t),n=i.x,o=i.y,a=e.options.scrollSpeedDivider,s=e._targetContainer,r=e._scrollSpeed;e._ax2=n,e._ay2=o,!e._scrollAvailable||null===r.y&&null===r.x?(e._recalcAreaRect(),e._updatedTouchingElements(),e._emit("move",t),e._redrawArea()):requestAnimationFrame((function i(){r=e._scrollSpeed;var n=null!==r.y,o=null!==r.x;if(n||o){var l=s.scrollTop,c=s.scrollLeft;n&&(s.scrollTop+=z(r.y/a),e._ay1-=s.scrollTop-l),o&&(s.scrollLeft+=z(r.x/a),e._ax1-=s.scrollLeft-c),e._recalcAreaRect(),e._updatedTouchingElements(),e._emit("move",t),e._redrawArea(),requestAnimationFrame(i)}})),t.preventDefault()},_manualScroll:function(t){var i=e.options.manualScrollSpeed,n=t.deltaY?t.deltaY>0?1:-1:0,o=t.deltaX?t.deltaX>0?1:-1:0;e._scrollSpeed.y+=n*i,e._scrollSpeed.x+=o*i,e._onTapMove(t),t.preventDefault()},_recalcAreaRect:function(){var t=e._targetContainer,i=t.scrollTop,n=t.scrollHeight,o=t.clientHeight,a=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth,l=e._targetBoundary,c=e._scrollSpeed,d=e._ax2,u=e._ay2;d<l.left?(c.x=a?-D(l.left-d):null,d=l.left):d>l.left+l.width?(c.x=s-a-r?D(l.left+l.width-d):null,d=l.left+l.width):c.x=null,u<l.top?(c.y=i?-D(l.top-u):null,u=l.top):u>l.top+l.height?(c.y=n-i-o?D(l.top+l.height-u):null,u=l.top+l.height):c.y=null;var h=R(e._ax1,d),p=R(e._ay1,u),g=j(e._ax1,d),f=j(e._ay1,u);e._areaDomRect=new G(h,p,g-h,f-p)},_redrawArea:function(){var t=e._areaDomRect,i=t.x,n=t.y,o=t.width,a=t.height,s=e._area.style;s.transform="translate3d("+i+"px,"+n+"px, 0)",s.width=o+"px",s.height=a+"px"},_onTapStop:function(t,i){var n=e.options,o=n.frame,a=n.singleClick;T(o,["mousemove","touchmove"],e._delayedTapMove),T(o,["touchmove","mousemove"],e._onTapMove),T(o,["mouseup","touchcancel","touchend"],e._onTapStop),t&&e._singleClick&&a?e._onSingleTap(t):e._singleClick||i||(e._updatedTouchingElements(),e._emit("stop",t)),e._scrollSpeed={x:null,y:null},T(window,"wheel",e._manualScroll),e._clippingElement.remove(),T(o,"selectstart",B),W(e._area,"display","none")},_updatedTouchingElements:function(){for(var t=e._selected,i=e._selectables,n=e.options,o=e._areaDomRect,a=n.mode,s=[],r=[],l=[],c=0;c<i.length;c++){var d=i[c];L(o,d.getBoundingClientRect(),a)&&(t.includes(d)||r.push(d),s.push(d))}for(var u=0;u<t.length;u++){var h=t[u];s.includes(h)||l.push(h)}e._selected=s,e._changed={added:r,removed:l}},_emit:function(t,i){var n,o=!0,a=Object(x["a"])(e._eventListener[t]);try{for(a.s();!(n=a.n()).done;){var s=n.value;o=s.call(e,{inst:e,area:e._area,selected:e._selected.concat(e._stored),changed:e._changed,oe:i})&&o}}catch(r){a.e(r)}finally{a.f()}return o},trigger:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e._onTapStart(t,i)},on:function(t,i){return e._eventListener[t].push(i),e},off:function(t,i){var n=e._eventListener[t];if(n){var o=n.indexOf(i);~o&&n.splice(o,1)}return e},resolveSelectables:function(){e._selectables=M(e.options.selectables,e.options.frame)},keepSelection:function(){for(var t=e._selected,i=e._stored,n=0;n<t.length;n++){var o=t[n];i.includes(o)||i.push(o)}},clearSelection:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(e._stored=[]),e._selected=[],e._changed.added=[],e._changed.removed=[]},removeFromSelection:function(t){e._changed.removed.push(t),O(e._stored,t),O(e._selected,t)},getSelection:function(){return e._stored},cancel:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e._onTapStop(null,!t)},option:function(t,i){var n=e.options;return void 0===i?n[t]:n[t]=i},disable:function(){e._bindStartEvents("off")},destroy:function(){e.disable(),e._clippingElement.remove()},enable:function(){e._bindStartEvents("on")},select:function(t){var i,n,o=e._selected,a=e._stored,r=e.options,l=M(t,r.frame).filter((function(t){return!o.includes(t)&&!a.includes(t)}));return(i=e._selected).push.apply(i,Object(s["a"])(l)),(n=e._changed.added).push.apply(n,Object(s["a"])(l)),l}};return e._init(),e}F.utils={on:E,off:T,css:W,intersects:L,selectAll:M,eventPath:I,removeElement:O},F.create=function(t){return F(t)};var Y=F,X=i("ec26"),U={name:"WorkArea",components:{GridLayout:_["a"].GridLayout,GridItem:_["a"].GridItem,VueContext:y["a"],Modal:p},data:function(){return{imgGrid:S.a,isPreventCollision:!0,selectionArea:{instance:null,isStopEvent:!1,select:{state:!1}},contextmenu:{x:0,y:0,mode:"",lock:{isLockShow:!1,isUnlockShow:!1}},isWidgetDragging:!1,panMove:{isPanMode:!1,drag:{elem:null,x:0,y:0,startX:0,startY:0,state:!1}}}},computed:{widgetCopied:function(){return this.$store.state.editor.widgetCopied},pageAttrAuxiliaryLine:function(){return this.$store.state.editor.editFile.content[this.$store.state.editor.currentTabIndex].auxiliaryLine},editScale:function(){return this.$store.state.editor.viewOption.editScale},scaleWidgetSize:function(){return this.defaultGridSize*this.editScale},defaultWidgetSize:function(){return this.$store.state.editor.defaultWidgetSize},defaultGridSize:function(){return this.$store.state.editor.defaultWidgetSize+10},widgetLayout:{get:function(){return this.$store.getters["editor/widgetLayout"]},set:function(t){this.$store.dispatch("editor/updateLayout",t)}},isDraggable:function(){return!!this.isPreventCollision},widgetSelected:function(){return this.$store.getters["editor/widgetSelected"]},widgetSelectedWithLock:function(){return this.$store.getters["editor/widgetSelected"].filter((function(t){return!0===t.$editProp.locked}))},widgetSelectedWithUnLock:function(){return this.$store.getters["editor/widgetSelected"].filter((function(t){return!1===t.$editProp.locked}))},dataSource:function(){return this.$store.state.editor.dataSource},dragging:function(){return this.$store.state.editor.dragging},widgetComps:{get:function(){return this.$store.state.editor.editFile.content[this.$store.state.editor.currentTabIndex].components},set:function(t){this.$store.commit("editor/SET_WIDGET_COMPONENT",t)}},colNum:function(){return 60},layoutContainerHeight:function(){return parseInt(this.$refs.layout.containerHeight().replace("px",""))},maxColNum:function(){return Math.max.apply(Math,Object(s["a"])(this.widgetComps.map((function(t){return t.x+t.w}))))},maxRowNum:function(){return Math.max.apply(Math,Object(s["a"])(this.widgetComps.map((function(t){return t.y+t.h}))))}},created:function(){},beforeDestroy:function(){document.removeEventListener("keydown",this.eventKeydown),document.removeEventListener("keyup",this.eventKeyup),this.$refs.workArea.removeEventListener("mousedown",this.eventMousedown),this.$refs.workArea.removeEventListener("mousemove",this.eventMousemove),this.$refs.workArea.removeEventListener("mouseup",this.eventMouseup),this.selectionArea.instance.destroy()},mounted:function(){var t=this;document.addEventListener("keydown",this.eventKeydown),document.addEventListener("keyup",this.eventKeyup),this.$refs.workArea.addEventListener("mousedown",this.eventMousedown),this.$refs.workArea.addEventListener("mousemove",this.eventMousemove),this.$refs.workArea.addEventListener("mouseup",this.eventMouseup),this.selectionArea.instance=Y.create({class:"selection-area",disableTouch:!1,singleClick:!0,boundaries:[".work-area-wrapper"]}).on("beforestart",(function(e){e.area;var i=e.inst,n=(e.selected,e.oe),o=t.$refs.layout.$el.getBoundingClientRect(),a={x:(n.pageX-o.x-(n.pageX-o.x)%t.scaleWidgetSize)/t.scaleWidgetSize,y:(n.pageY-o.y-(n.pageY-o.y)%t.scaleWidgetSize)/t.scaleWidgetSize};return t.panMove.isPanMode?(i.cancel(),!1):(console.log(a),console.log("this.whichWidgetInXY(startIndex.x, startIndex.y)",t.whichWidgetInXY(a.x,a.y)),""!==t.whichWidgetInXY(a.x,a.y)?((t.widgetSelected.length<=1||!t.isWidgetSelectedInXY(a.x,a.y))&&t.selectWidgetByXY(a.x,a.y),i.cancel(),!1):void t.clearSelection())})).on("start",(function(e){e.area,e.inst,e.selected,e.oe;t.clearSelection(),t.selectionArea.select.state=!0})).on("move",(function(e){var i=e.inst,n=(e.oe,e.area),o=e.changed;o.removed,o.added;t.clearSelection();var a={x:n.getBoundingClientRect().x-i._targetBoundary.x+i._targetContainer.scrollLeft*t.editScale,y:n.getBoundingClientRect().y-i._targetBoundary.y+i._targetContainer.scrollTop*t.editScale,w:n.getBoundingClientRect().width,h:n.getBoundingClientRect().height},s={x:Math.floor(a.x/t.scaleWidgetSize),y:Math.floor(a.y/t.scaleWidgetSize),w:Math.floor((a.x%t.scaleWidgetSize+a.w)/t.scaleWidgetSize),h:Math.floor((a.y%t.scaleWidgetSize+a.h)/t.scaleWidgetSize)};t.selectWidgetByRange(s.x,s.y,s.w,s.h)})).on("stop",(function(e){e.inst;t.selectionArea.select.state=!1}))},methods:{openContextmenu:function(t){this.$refs.contextmenuAll.hide(),this.contextmenu.lock.isLockShow=!1,this.contextmenu.lock.isUnlockShow=!1,0!==this.widgetSelectedWithLock.length&&(this.contextmenu.lock.isLockShow=!0),0!==this.widgetSelectedWithUnLock.length&&(this.contextmenu.lock.isUnlockShow=!0),console.log("openContextmenu",t);var e=this.$refs.layout.$el.getBoundingClientRect(),i={x:(t.pageX-e.x-(t.pageX-e.x)%this.scaleWidgetSize)/this.scaleWidgetSize,y:(t.pageY-e.y-(t.pageY-e.y)%this.scaleWidgetSize)/this.scaleWidgetSize};this.contextmenu=Object(v["a"])(Object(v["a"])({},this.contextmenu),i),console.log(this.contextmenu),""===this.whichWidgetInXY(i.x,i.y)?this.contextmenu.mode="blank":this.widgetSelected.length>1?this.contextmenu.mode="multi":this.contextmenu.mode="single",console.log(i);var n={top:t.pageY,left:t.pageX};this.$refs.contextmenuAll.show(n),t.stopPropagation(),t.preventDefault()},devPrintFilledArray:function(){var t=this,e=new Array(this.maxColNum).fill(0).map((function(){return new Array(t.maxRowNum).fill(0)}));this.widgetComps.forEach((function(t){for(var i=0;i<t.w;i++)for(var n=0;n<t.h;n++)e[t.x+i][t.y+n]=1}));for(var i="",n=0;n<this.maxRowNum;n++){for(var o=0;o<this.maxColNum;o++)i+=e[o][n]+" ";i+="\n"}console.log(i)},move:function(t,e,i){var n=this.widgetComps.find((function(e){return e.$id===t}));!1===n.$editProp.selected&&this.clearSelection(),this.updateWidgetLayout(t,{_x:e,_y:i}),this.isWidgetDragging=!0,this.selectionArea.isStopEvent=!0},resize:function(t,e,i,n,o){this.updateWidgetLayout(t,{_height:e,_width:i}),this.selectionArea.isStopEvent=!0},moved:function(t,e,i){this.selectionArea.isStopEvent=!1,this.updateWidgetLayout(t,{_x:e,_y:i}),this.addState(),this.isWidgetDragging=!1},resized:function(t,e,i,n,o){this.selectionArea.isStopEvent=!1,this.updateWidgetLayout(t,{_height:e,_width:i}),this.selectWidgetById(t),this.addState()},containerResized:function(t,e,i,n,o){},layoutCreatedEvent:function(t){},layoutBeforeMountEvent:function(t){},layoutMountedEvent:function(t){},layoutReadyEvent:function(t){},layoutUpdatedEvent:function(t){this.selectionArea.isStopEvent=!1},updateWidgetLayout:function(t,e){},removeWidget:function(t,e){e>-1&&this.widgetComps.splice(e,1),this.addState()},removeWidgetByIds:function(t){var e=this;t.length>0&&(t.forEach((function(t){var i=e.widgetComps.map((function(t){return t.$id})),n=i.indexOf(t);n>-1&&e.widgetComps.splice(n,1)})),this.addState())},handleDragEnter:function(t){},handleDragOver:function(t){},handleDragLeave:function(t){},handleDragEnd:function(t){},calcXY:function(t,e){var i=this.$refs.dropLayer.getBoundingClientRect(),n=t-i.left,o=e-i.top,a=parseInt(((n-this.scaleWidgetSize/2)/this.scaleWidgetSize).toFixed(0)),s=parseInt(((o-this.scaleWidgetSize/2)/this.scaleWidgetSize).toFixed(0));return{positionX:a,positionY:s}},handleWidgetDrop:function(t){if(console.log("handleWidgetDrop",t),this.dragging){var e=this.calcXY(t.clientX,t.clientY),i=e.positionX,n=e.positionY,o=Object(b["c"])(this.dragging);if(this.isPreventCollision){var a=this.copyScan(i,n,o.$property._defaultWidth,o.$property._defaultHeight,50);a&&(i=a.x,n=a.y)}var s=Object(X["a"])(),r=Object(g["c"])({},Object(g["d"])(o),{i:s,x:i,y:n,w:o.$property._defaultWidth,h:o.$property._defaultHeight,minW:o.$property._minWidth,minH:o.$property._minHeight,$id:s,$property:{_name:"untitled_".concat(o.$type._typeId),_x:i,_y:n,_width:o.$property._defaultWidth,_height:o.$property._defaultHeight}});this.widgetComps.push(r),this.addState(),this.clearSelection(),this.selectWidget(r),this.devPrintFilledArray()}},openSettingModalFormContextMenu:function(t,e){var i=e.widgetItem;e.index;console.log(i)},opendeleteModal:function(t,e){var i=e.widgetItem,n=e.index;console.log(i),this.removeWidget(i,n)},openSettingModal:function(t){this.widgetItemSettingModal.isShow=!0,this.$set(this.widgetItemSettingModal,"itemData",Object(g["d"])(t)),console.log(this.widgetItemSettingModal)},saveWidgetItemSetting:function(){var t=this;console.log(this.widgetItemSettingModal);var e=this.widgetComps.findIndex((function(e){return e.$id===t.widgetItemSettingModal.itemData.$id}));this.$set(this.widgetComps[e],"$property",Object(g["d"])(this.widgetItemSettingModal.itemData.$property)),console.log(this.widgetItemSettingModal.itemData),this.widgetItemSettingModal.isShow=!1,this.addState()},selectWidgetByRange:function(t,e,i,n){var o=[];this.widgetComps.forEach((function(a){for(var s=a.x;s<a.x+a.w;s++)for(var r=a.y;r<a.y+a.h;r++)for(var l=t;l<=t+i;l++)for(var c=e;c<=e+n;c++)s===l&&r===c&&o.push(a.$id)})),this.selectWidget(o)},lockedWidgetContextmenu:function(){if(this.widgetSelected.length>0){var t=this.widgetSelected.map((function(t){return t.$id}));this.toggleWidgetLock(t,!0)}},unlockedWidgetContextmenu:function(){if(this.widgetSelected.length>0){var t=this.widgetSelected.map((function(t){return t.$id}));this.toggleWidgetLock(t,!1)}},toggleWidgetLock:function(t,e){this.$store.commit("editor/TOGGLE_WIDGET_LOCK",{ids:t,locked:e}),this.addState()},selectWidget:function(t){this.clearSelection(),this.$store.commit("editor/TOGGLE_SIDEBAR","open"),this.$store.commit("editor/SELECT_WIDGET",t)},selectWidgetById:function(t){this.selectWidget([t])},selectWidgetByXY:function(t,e){var i=this.whichWidgetInXY(t,e);this.selectWidget([i])},whichWidgetInXY:function(t,e){for(var i=this.widgetComps.length,n=0;n<i;n++)for(var o=this.widgetComps[n],a=o.x;a<o.x+o.w;a++)for(var s=o.y;s<o.y+o.h;s++)if(a===t&&s===e)return o.$id;return""},clearSelection:function(){this.$store.commit("editor/CLEAR_WIDGET_SELECTION")},stopSelectionEvent:function(){this.selectionArea.select.state||this.clearSelection()},getWidgetPropFromId:function(t){var e=this.widgetComps.findIndex((function(e){return e.$id===t}));return this.widgetComps[e]},isWidgetSelectedInXY:function(t,e){var i=this.whichWidgetInXY(t,e),n=this.getWidgetPropFromId(i);return console.log("whichWidget.$editProp.selected",n.$editProp.selected),n.$editProp.selected},isFitableWidgetInXY:function(t,e,i,n){for(var o=t;o<t+i;o++)for(var a=e;a<e+n;a++)if(""!==this.whichWidgetInXY(o,a))return!1;return!0},deleteWidgetContextmenu:function(){this.deleteWidget()},deleteWidget:function(){if(this.widgetSelected.length>0){var t=this.widgetSelected.map((function(t){return t.$id}));this.removeWidgetByIds(t)}},setWidgetCopied:function(){this.$store.commit("editor/SET_WIDGET_COPIED",{widgets:this.widgetSelected})},pasteWidgetCopied:function(){console.log(this.widgetCopied),this.copyWidget(this.contextmenu.x,this.contextmenu.y)},pasteWidget:function(){this.copyWidget()},copyWidget:function(t,e){var i=this.widgetCopied[0],n=Object(X["a"])(),o={};if(o=t>-1&&e>-1?{x:t,y:e}:this.copyScan(i.x,i.y,i.w,i.h,50),o){var a=Object(g["c"])({},Object(g["d"])(i),{$id:n,i:n,x:o.x,y:o.y,w:i.w,h:i.h,$editProp:Object(b["d"])(),$property:{_x:o.x,_y:o.y}});return this.widgetComps.push(a),this.addState(),!0}return!1},copyScan:function(t,e,i,n,o){for(var a=1;a<o+1;a++)for(var s=0;s<a;s++)for(var r=0;r+s<a;r++)if(r+s===a-1&&this.isFitableWidgetInXY(t+r,e+s,i,n))return{x:t+r,y:e+s,w:i,h:n};return!1},addState:function(){this.$store.commit("editor/ADD_STATE")},eventInit:function(t){this.panMove.isPanMode=!1,this.selectionArea.isStopEvent=!1,t.stopPropagation(),t.preventDefault()},eventKeydown:function(t){if("input"!==t.target.nodeName.toLowerCase()&&"textarea"!==t.target.nodeName.toLowerCase())switch(t.keyCode){case 32:this.panMove.isPanMode=!0,this.selectionArea.isStopEvent=!0,t.stopPropagation(),t.preventDefault();break;case 8:case 46:if(console.log(this.widgetSelected),this.widgetSelected.length>0){var e=this.widgetSelected.map((function(t){return t.$id}));this.removeWidgetByIds(e)}break;default:}},eventKeyup:function(t){switch(t.keyCode){case 32:this.panMove.isPanMode=!1,this.selectionArea.isStopEvent=!1,t.stopPropagation(),t.preventDefault();break;default:}},eventMousedown:function(t){return!this.panMove.drag.state&&this.panMove.isPanMode&&(this.panMove.drag.x=t.pageX,this.panMove.drag.y=t.pageY,this.panMove.drag.startX=t.pageX,this.panMove.drag.startY=t.pageY,this.panMove.drag.state=!0),!1},eventMousemove:function(t){if(this.panMove.drag.state&&this.panMove.isPanMode){var e=document.getElementById("content").scrollLeft-t.pageX+this.panMove.drag.x,i=document.getElementById("content").scrollTop-t.pageY+this.panMove.drag.y;document.getElementById("content").scrollLeft=e>0?e:0,document.getElementById("content").scrollTop=i>0?i:0,this.panMove.drag.x=t.pageX,this.panMove.drag.y=t.pageY}return!1},eventMouseup:function(t){return this.panMove.drag.state&&(this.panMove.drag.state=!1),this.selectionArea.select.state&&(this.selectionArea.select.state=!1),!1}}},H=U,V=(i("40de"),Object(u["a"])(H,f,m,!1,null,"46ea7232",null)),J=V.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%","overflow-y":"auto","background-color":"#FFF"}},[i("div",{staticClass:"search-panel"},[i("div",{staticClass:"widget-search"},[i("span",{staticClass:"icon"},[i("svg-icon",{attrs:{"icon-class":"search"}})],1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.terms,expression:"terms"}],attrs:{type:"text",placeholder:t.$t("Widget.keywords")},domProps:{value:t.terms},on:{input:function(e){e.target.composing||(t.terms=e.target.value)}}})])]),i("div",{staticClass:"content"},[i("div",{staticClass:"content__tab"},[i("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"left"},on:{"tab-click":t.handleCompTabChange},model:{value:t.activeCompTab,callback:function(e){t.activeCompTab=e},expression:"activeCompTab"}},[i("el-tab-pane",{attrs:{name:"line"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("svg-pic",{attrs:{"icon-class":"line"}})],1)]),i("el-tab-pane",{attrs:{name:"bar"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("svg-pic",{attrs:{"icon-class":"bar"}})],1)]),i("el-tab-pane",{attrs:{name:"pie"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("svg-pic",{attrs:{"icon-class":"pie"}})],1)]),i("el-tab-pane",{attrs:{name:"scatter"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("svg-pic",{attrs:{"icon-class":"scatter"}})],1)]),i("el-tab-pane",{attrs:{name:"radar"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("svg-pic",{attrs:{"icon-class":"radar"}})],1)])],1)],1),i("div",{staticClass:"content__comp"},[i("div",{staticClass:"tools-container"},[i("div",{staticClass:"tools"},[t._l(t.filterList,(function(e,n){return i("div",{key:n,staticStyle:{"text-align":"center"}},[i("div",{staticClass:"tools__item",attrs:{id:e.$template,draggable:!0},on:{dragstart:function(i){return t.dragStart(e.$type._typeId,i,e)},dragover:function(t){t.preventDefault()},dragend:t.dragEnd}},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"tools__item__title-text"},[t._v(" "+t._s(e.$type._title)+" ")]),i("div",{staticClass:"tools__item__image"},[i(e.$type._template,{tag:"component",style:{height:e.$property._defaultHeight*t.defaultWidgetSize+"px",width:e.$property._defaultWidth*t.defaultWidgetSize+"px"},attrs:{config:t.components[e.$type._typeId]}})],1),i("div",{staticClass:"drag-image"},[i("div",{attrs:{id:"widget-"+e.$type._typeId}},[i(e.$type._template,{tag:"component",staticClass:"dragging-ghost",style:{height:e.$property._defaultHeight*t.defaultWidgetSize+"px",width:e.$property._defaultWidth*t.defaultWidgetSize+"px"},attrs:{config:t.components[e.$type._typeId]}})],1)])])])])})),0==t.filterList.length?i("div",[i("span",[t._v(t._s(t.$t("Widget.No_result"))+" ")])]):t._e()],2)])])])])},q=[],Z={name:"Items",data:function(){return{activeCompTab:"line",terms:"",componentsArray:b["b"],components:b["a"]}},computed:{editScale:function(){return this.$store.state.editor.viewOption.editScale},defaultWidgetSize:function(){return this.$store.state.editor.defaultWidgetSize},isDragging:function(){return this.$store.editor.dragging>-1},filterList:function(){var t=this;return!this.terms||this.terms.length<2?this.componentsArray:this.componentsArray.filter((function(e){for(var i,n=e.$type._title.toLowerCase(),o=0,a=-1,s=t.terms.toLowerCase();i=s[o++];)if(!~(a=n.indexOf(i,a+1)))return!1;return!0}))}},mounted:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{handleCompTabChange:function(t,e){console.log(t,e)},dragStart:function(t,e,i){e.dataTransfer.dropEffect="move",this.$store.commit("editor/SET_DRAGGING",t),e.target.classList.add("tools__item--isdragging"),console.log(t);var n=null!=e.target?e.target:e.srcElement,o=document.querySelector("#widget-".concat(i.$type._typeId)).cloneNode(!0);o.setAttribute("id",Object(X["a"])()),o.className=n.className;var a=i.$property._defaultWidth*this.defaultWidgetSize,s=i.$property._defaultHeight*this.defaultWidgetSize;o.style.width=a+"px",o.style.height=s+"px",o.style.position="absolute";var r=o.getElementsByClassName("dragging-ghost")[0];r.style.backgroundColor="#ffffffA5",r.style.transform="scale(".concat(this.editScale,")"),r.style.transformOrigin="top left",r.style.border="solid 1px #ccc",document.body.appendChild(o),e.dataTransfer.setDragImage(o,10,10)},dragEnd:function(t){this.$store.commit("editor/SET_DRAGGING",""),t.target.classList.remove("tools__item--isdragging"),document.body.removeChild(document.body.lastChild)}}},Q=Z,tt=(i("b646"),Object(u["a"])(Q,K,q,!1,null,"e50ab110",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%","overflow-y":"auto"}},[i("div",{staticStyle:{"max-height":"30vh","overflow-y":"auto",width:"220px","margin-left":"15px"}},[i("Container",{attrs:{"lock-axis":"y"},on:{drop:t.onDrop}},t._l(t.widgetComps,(function(e){return i("Draggable",{key:e.$id},[i("div",{staticClass:"draggable-item",class:{"draggable-item__selected":e.$editProp.selected},on:{click:function(i){return t.selectWidget(e)}}},[t._v(t._s(e.$property["_name"])+" ")])])})),1)],1),i("div",{staticStyle:{width:"220px","margin-left":"15px",border:"1px solid #ccc","margin-bottom":"10px","text-align":"center"}},[t._v("total layer: "+t._s(t.widgetComps.length))])])},nt=[],ot=i("3f7d"),at={name:"Layer",components:{Container:ot["Container"],Draggable:ot["Draggable"]},computed:{widgetComps:{get:function(){return this.$store.state.editor.editFile.content[this.$store.state.editor.currentTabIndex].components},set:function(t){this.$store.commit("editor/SET_WIDGET_COMPONENT",t)}},widgetLayout:function(){return this.$store.getters["editor/widgetLayout"]}},mounted:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{selectWidget:function(t){this.clearSelection(),this.$store.commit("editor/TOGGLE_SIDEBAR","open"),this.$store.commit("editor/SELECT_WIDGET",[t.$id])},clearSelection:function(){this.$store.commit("editor/CLEAR_WIDGET_SELECTION")},onDrop:function(t){this.widgetComps=this.applyDrag(this.widgetComps,t),this.addState()},addState:function(){this.$store.commit("editor/ADD_STATE")},applyDrag:function(t,e){var i=e.removedIndex,n=e.addedIndex,o=e.payload;if(null===i&&null===n)return t;var a=Object(s["a"])(t),r=o;return null!==i&&(r=a.splice(i,1)[0]),null!==n&&a.splice(n,0,r),a}}},st=at,rt=(i("c866"),Object(u["a"])(st,it,nt,!1,null,"455bd7b2",null)),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pages-containner"},[i("div",{staticClass:"pages"},[i("Container",{staticStyle:{"margin-top":"25px"},attrs:{"lock-axis":"y"},on:{drop:t.onDrop}},t._l(t.pageTabs,(function(e,n){return i("Draggable",{key:e.id},[i("div",{staticClass:"page-item",class:{"page-item__selected":t.pageTabs[t.currentTabIndex].id===e.id},on:{click:function(e){return t.selectPage(n)}}},[t.pageTabs[t.currentTabIndex].id===e.id?i("div",{staticClass:"page-item__icon"},[i("i",{staticClass:"fa fa-square",attrs:{"aria-hidden":"true"}})]):i("div",{staticClass:"page-item__icon"},[i("i",{staticClass:"fa fa-square-o",attrs:{"aria-hidden":"true"}})]),i("div",{staticClass:"page-item__text"},[t._v(" "+t._s(e.label)+" ")]),t.pageTabs[t.currentTabIndex].id===e.id?i("div",{staticClass:"edit-tool"},[i("div",{staticClass:"edit-tool__edit",on:{click:function(i){return t.editPageName(e)}}},[i("i",{staticClass:"el-icon-edit"})]),i("el-popconfirm",{attrs:{title:"刪除page會將該頁的元件一併刪除，確定刪除!?","hide-icon":!0},on:{confirm:function(i){return t.removePage(e,n)}}},[i("div",{staticClass:"edit-tool__delete",attrs:{slot:"reference"},slot:"reference"},[i("i",{staticClass:"el-icon-delete"})])])],1):t._e()])])})),1)],1),i("div",{staticClass:"button-add",on:{click:t.addTab}},[t._v("+")]),i("div",{staticClass:"total-box"},[t._v("total page: "+t._s(t.pageTabs.length))]),i("Modal",{attrs:{"is-show":t.isEditorModalShow,width:600},on:{close:function(e){t.isEditorModalShow=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("edit page name")]},proxy:!0},{key:"content",fn:function(){return[i("el-input",{model:{value:t.editPage.label,callback:function(e){t.$set(t.editPage,"label",e)},expression:"editPage.label"}})]},proxy:!0},{key:"footer",fn:function(){return[i("el-button",{staticClass:"original-style",staticStyle:{"min-width":"80px"},on:{click:t.savePageNameModal}},[t._v("Ok")]),i("el-button",{staticClass:"original-style",staticStyle:{"min-width":"80px"},on:{click:t.canceSavePageNameModal}},[t._v("Cancel")])]},proxy:!0}])})],1)},dt=[],ut={name:"Pages",components:{Container:ot["Container"],Draggable:ot["Draggable"],Modal:p},data:function(){return{editPage:{},isEditorModalShow:!1}},computed:{pageTabs:{get:function(){return this.$store.state.editor.editFile.content.map((function(t){return{label:t.label,id:t.id,closable:!1}}))},set:function(t){this.$store.commit("editor/SET_PAGE_POS",t)}},currentTabIndex:function(){return this.$store.state.editor.currentTabIndex}},mounted:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{addTab:function(){this.pageTabs.length<5&&(this.$store.commit("editor/ADD_PAGE_TAB"),this.addState())},editPageName:function(t){this.editPage=Object(g["d"])(t),this.isEditorModalShow=!0},removePage:function(t,e){if(this.pageTabs.length>1){console.log(t),this.$store.commit("editor/REMOVE_PAGE_TAB",{id:t.id});var i=e-1<0?0:e-1;this.selectPage(i),this.addState()}else this.$message.error("不能刪除唯一的page")},savePageNameModal:function(){var t={label:this.editPage.label};this.$store.commit("editor/UPDATE_PAGE_TAB_PROPS",{tab:t,id:this.editPage.id}),this.addState(),this.isEditorModalShow=!1},canceSavePageNameModal:function(){this.editPage={},this.isEditorModalShow=!1},selectPage:function(t){this.$store.commit("editor/SWITCH_CURRENT_TAB",{index:t})},clearSelection:function(){},changeLabel:function(t,e){},onDrop:function(t){var e=t.addedIndex;this.pageTabs=this.applyDrag(this.pageTabs,t),this.selectPage(e),this.addState()},addState:function(){this.$store.commit("editor/ADD_STATE")},applyDrag:function(t,e){var i=e.removedIndex,n=e.addedIndex,o=e.payload;if(null===i&&null===n)return t;var a=Object(s["a"])(t),r=o;return null!==i&&(r=a.splice(i,1)[0]),null!==n&&a.splice(n,0,r),a}}},ht=ut,pt=(i("bec5"),Object(u["a"])(ht,ct,dt,!1,null,"492a0827",null)),gt=pt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"att-container"},[i("side-tab",{attrs:{title:[t.$t("Widget.Style")],direction:"right"}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"first"},slot:"first"},[i("div",{staticClass:"style-panel",staticStyle:{padding:"10px 0"}},[i("div",{staticClass:"style-panel__header"},[i("div",{staticClass:"style-panel__header__wrapper",on:{click:function(e){t.collapse.screen=!t.collapse.screen}}},[i("div",{staticClass:"style-panel__header__collapse"},[t.collapse.screen?i("i",{staticClass:"el-icon-arrow-up"}):i("i",{staticClass:"el-icon-arrow-down"})]),i("div",{staticClass:"style-panel__header__title"},[t._v(" "+t._s(t.$t("Widget_Attribute.Screen_auxiliary_line"))+" ")])]),i("div",{staticClass:"style-panel__header__tools"})]),t.collapse.screen?t._e():i("div",{staticClass:"style-panel__content"},[i("div",{staticClass:"style-item"},[i("div",{staticClass:"style-item__text",attrs:{title:t.$t("Widget_Attribute.Auto")}},[i("div",{staticClass:"att-checkbox-title"},[i("el-checkbox",{on:{change:t.setAuxiliaryLineDefault},model:{value:t.dashboard.auxiliaryLine.isAuto,callback:function(e){t.$set(t.dashboard.auxiliaryLine,"isAuto",e)},expression:"dashboard.auxiliaryLine.isAuto"}},[t._v(t._s(t.$t("Widget_Attribute.Auto")))])],1)])]),i("div",{staticClass:"style-item"},[i("div",{staticClass:"style-item__text",attrs:{title:t.$t("Widget_Attribute.Position")}},[t._v(" "+t._s(t.$t("Widget_Attribute.Position"))+" ")]),i("div",{staticClass:"style-item__content"},[i("div",{staticClass:"style-item__content__icon-prefix",staticStyle:{"margin-left":"-18px"}},[i("svg-icon",{attrs:{"icon-class":"lock"}})],1),i("div",{staticClass:"att-input-unit",staticStyle:{"margin-right":"12px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dashboard.auxiliaryLine.width,expression:"dashboard.auxiliaryLine.width"}],attrs:{type:"text",disabled:t.dashboard.auxiliaryLine.isAuto},domProps:{value:t.dashboard.auxiliaryLine.width},on:{input:function(e){e.target.composing||t.$set(t.dashboard.auxiliaryLine,"width",e.target.value)}}}),i("div",{staticClass:"unit"},[t._v("w")])]),i("div",{staticClass:"att-input-unit",staticStyle:{"margin-right":"12px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dashboard.auxiliaryLine.height,expression:"dashboard.auxiliaryLine.height"}],attrs:{type:"text",disabled:t.dashboard.auxiliaryLine.isAuto},domProps:{value:t.dashboard.auxiliaryLine.height},on:{input:function(e){e.target.composing||t.$set(t.dashboard.auxiliaryLine,"height",e.target.value)}}}),i("div",{staticClass:"unit"},[t._v("h")])])])])]),i("hr",{staticStyle:{border:"none","border-top":"1px solid #dfdfdf"}})])])])],1)},mt=[],vt=i("ddf6"),_t={name:"PageAttr",components:{sideTab:vt["a"]},props:{dashboard:{type:Object,default:function(){return{}}}},data:function(){return{collapse:{dataSource:!1,style:!1,screen:!1}}},mounted:function(){},methods:{setWidgetValue:function(t){this.$emit("save",Object(g["d"])(this.dashboard))},setAuxiliaryLineDefault:function(t){t&&this.$store.commit("editor/UPDATE_PAGE_ATTR_AUXILIARY_LINE",{height:window.screen.height,width:window.screen.width,isAuto:!0})}}},yt=_t,bt=Object(u["a"])(yt,ft,mt,!1,null,"1195e2fd",null),wt=bt.exports,St=i("2340"),xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dropdown-menu",{staticClass:"lang-menu",attrs:{right:!1,hover:!0,interactive:!0,transition:"translate-fade-down"},model:{value:t.isLangDropdownShow,callback:function(e){t.isLangDropdownShow=e},expression:"isLangDropdownShow"}},[t._t("toggle",null,{text:t.languageList.filter((function(e){return e.name==t.language}))[0].label}),i("ul",{staticClass:"dropdown-menu-lang-panel",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.languageList,(function(e,n){return i("li",{key:n,staticClass:"dropdown-menu-lang-panel__item",on:{click:function(i){return t.handleSetLanguage(e.name)}}},[i("div",{staticClass:"dropdown-menu-lang-panel__item__round-line"},[t._v(" "+t._s(e.label)+" ")])])})),0)],2)},Ct=[],$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown",class:{dropup:t.top},on:{mouseleave:t.mouseLeave,mouseover:t.mouseOver,mouseenter:t.mouseEnter,click:t.toggleMenu}},[t._t("default"),i("transition",{attrs:{name:t.transition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],ref:"dropdown",staticClass:"dropdown-menu show",class:{"dropdown-menu-right":t.right},style:t.styles,on:{mouseleave:t.startTimer,mouseenter:t.stopTimer,click:function(t){t.stopPropagation()}}},[t._t("dropdown")],2)])],2)},kt=[],Et={props:{value:Boolean,right:Boolean,hover:Boolean,hoverTime:{type:Number,default:100},hoverTimeout:{type:Number,default:500},styles:{type:Object,default:function(){return{}}},interactive:{type:Boolean,default:!1},transition:{type:String,default:""},closeOnClickOutside:{type:Boolean,default:!0}},data:function(){return{hovering:!1,top:!1}},watch:{value:function(t){var e=this;if(t){var i=this;this.top=!1,this.$nextTick((function(){var t=i.$refs.dropdown.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;e.top=t.bottom>n&&t.top>=t.height}))}},interactive:{handler:function(t){"object"===("undefined"===typeof document?"undefined":Object(C["a"])(document))&&(t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu))},immediate:!0}},destroyed:function(){document.body.removeEventListener("click",this.closeMenu)},methods:{mouseEnter:function(){var t=this;this.stopTimer(),this.hover&&this.hover_time>0&&!this.value&&(this.hoverOpenTimer=setTimeout((function(){t.$emit("input",!0),t.hovering=!0,setTimeout((function(){t.hovering=!1}),t.hover_timeout)}),this.hover_time)),this.hover&&!this.value&&0===this.hover_time&&(this.hovering=!0,setTimeout((function(){t.hovering=!1}),this.hover_timeout),this.$emit("input",!0))},mouseLeave:function(){this.hoverTimer||this.startTimer(),this.hover_time>0&&this.hover&&clearTimeout(this.hoverOpenTimer)},mouseOver:function(){this.stopTimer()},closeMenu:function(t){t&&this.$el.contains(t.target)||this.value&&this.closeOnClickOutside&&this.$emit("input",!1)},toggleMenu:function(){this.hovering||this.value&&this.hover||this.$emit("input",!this.value)},stopTimer:function(){clearTimeout(this.hoverTimer),this.hoverTimer=null},startTimer:function(){this.interactive||(this.hoverTimer=setTimeout(this.closeMenu,this.hover_timeout))}}},Tt=Et,At=Object(u["a"])(Tt,$t,kt,!1,null,null,null),Wt=At.exports,Lt=i("9923"),Mt={components:{DropdownMenu:Wt},data:function(){return{isLangDropdownShow:!1,languageList:Lt["c"]}},computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(t){this.$i18n.locale=t,this.$store.dispatch("app/setLanguage",t),this.$message({message:this.$t("App.Modified_language_successfully"),type:"success"})}}},It=Mt,Ot=(i("0844"),Object(u["a"])(It,xt,Ct,!1,null,"69632f36",null)),Pt=Ot.exports,Dt={name:"App",components:{workArea:J,widgets:et,layer:lt,Modal:p,sideTab:vt["a"],pages:gt,VueFileToolbarMenu:St["a"],pageAttr:wt,LangSelectNav:Pt},data:function(){return{pageTab:"",isLoading:!0,isSidePanelShow:!0,isEditorModalShow:!1,autoSave:{isEnabled:!1,intervalTimer:null,lastUpdateTime:null,interval:30},assetsSelection:{isModalShow:!1,selectedWidget:{},selectedAsset:{}},tempJson:{},fullscreen:!1,rulerMarker:Object(s["a"])(Array(100).keys())}},computed:{widgetSelectedWithLock:function(){return this.$store.getters["editor/widgetSelected"].filter((function(t){return!0===t.$editProp.locked}))},widgetSelectedWithUnLock:function(){return this.$store.getters["editor/widgetSelected"].filter((function(t){return!1===t.$editProp.locked}))},widgetCopied:function(){return this.$store.state.editor.widgetCopied},widgetSelected:function(){return this.$store.getters["editor/widgetSelected"]},pageTabs:function(){return this.$store.state.editor.editFile.content.map((function(t){return{label:t.label,id:t.id}}))},pageAttrAuxiliaryLine:{get:function(){return this.editFile.content[this.currentTabIndex].auxiliaryLine},set:function(t){this.$store.commit("editor/UPDATE_PAGE_ATTR_AUXILIARY_LINE",t)}},isUndoEnabled:function(){return this.$store.getters["editor/isUndoEnabled"]},isRedoEnabled:function(){return this.$store.getters["editor/isRedoEnabled"]},isSidebarOpen:function(){return this.$store.state.editor.isSidebarOpen},editFile:function(){return this.$store.state.editor.editFile},currentTabIndex:function(){return this.$store.state.editor.currentTabIndex},singleSelected:function(){return console.log(this.editFile),this.editFile.content.length>0&&Object(g["a"])(1===this.editFile.content[this.currentTabIndex].components.filter((function(t){return!0===t.$editProp.selected})).length,"boolean")},editScale:{get:function(){return this.$store.state.editor.viewOption.editScale},set:function(t){var e={editScale:t,isGrid:this.$store.state.editor.viewOption.isGrid,isRuler:this.$store.state.editor.viewOption.isRuler,isAuxiliaryLine:this.$store.state.editor.viewOption.isAuxiliaryLine};this.$store.commit("editor/SET_VIEW_OPTION",e)}},isGridShow:{get:function(){return this.$store.state.editor.viewOption.isGrid},set:function(t){var e={editScale:this.$store.state.editor.viewOption.editScale,isGrid:t,isRuler:this.$store.state.editor.viewOption.isRuler,isAuxiliaryLine:this.$store.state.editor.viewOption.isAuxiliaryLine};this.$store.commit("editor/SET_VIEW_OPTION",e)}},isRulerShow:{get:function(){return this.$store.state.editor.viewOption.isRuler},set:function(t){var e={editScale:this.$store.state.editor.viewOption.editScale,isGrid:this.$store.state.editor.viewOption.isGrid,isRuler:t,isAuxiliaryLine:this.$store.state.editor.viewOption.isAuxiliaryLine};this.$store.commit("editor/SET_VIEW_OPTION",e)}},isAuxiliaryLineShow:{get:function(){return this.$store.state.editor.viewOption.isAuxiliaryLine},set:function(t){var e={editScale:this.$store.state.editor.viewOption.editScale,isGrid:this.$store.state.editor.viewOption.isGrid,isRuler:this.$store.state.editor.viewOption.isRuler,isAuxiliaryLine:t};this.$store.commit("editor/SET_VIEW_OPTION",e)}},menu:function(){var t=this;return[{text:this.$t("Project_Editor.File"),menu:[]},{text:this.$t("Project_Editor.Edit"),menu:[{text:this.$t("Project_Editor.Undo"),disabled:!this.isUndoEnabled||this.isWidgetInnerEditMode,click:function(){return t.$store.dispatch("editor/undo")}},{text:this.$t("Project_Editor.Redo"),disabled:!this.isRedoEnabled||this.isWidgetInnerEditMode,click:function(){return t.$store.dispatch("editor/redo")}}]},{text:this.$t("Project_Editor.View"),menu:[{text:this.$t("Project_Editor.ZoomIn"),disabled:this.editScale>=1.5,click:function(){return t.zoomIn()}},{text:this.$t("Project_Editor.ZoomOut"),disabled:this.editScale<=.5,click:function(){return t.zoomOut()}}]}]}},watch:{currentTabIndex:{handler:function(t,e){var i=this;t!==e&&this.$nextTick((function(){var t=i.$store.state.editor.currentTabIndex,e=i.$store.state.editor.editFile.content;console.log(e[t]),i.pageTab=e[t].id,i.pageAttrInit()}))},deep:!0},pageTabs:{deep:!0,handler:function(t,e){var i=this;t!==e&&this.$nextTick((function(){var t=i.$store.state.editor.currentTabIndex,e=i.$store.state.editor.editFile.content;i.pageTab=e[t].id}))}}},beforeDestroy:function(){this.$refs.content.removeEventListener("scroll",this.onScroll,!1),this.autoSave.intervalTimer&&clearInterval(this.autoSave.intervalTimer)},mounted:function(){var t=this;this.$refs.content.addEventListener("scroll",this.onScroll,!1),this.init(),this.autoSave.intervalTimer||(this.autoSave.intervalTimer=setInterval((function(){t.autoSave.isEnabled&&(t.autoSave.lastUpdateTime=t.moment().format("HH:mm:ss"),t.save())}),1e3*this.autoSave.interval))},methods:{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$store.dispatch("editor/loadEditFile",t.$route.params.id);case 3:return console.log(t.$store.state.editor.editFile),t.pageTab=t.pageTabs[0].id||"",t.pageAttrInit(),e.next=8,new Promise((function(t){return setTimeout(t,2e3)}));case 8:t.isLoading=!1;case 9:case"end":return e.stop()}}),e)})))()},preview:function(){this.save(),this.$router.push({path:"/viewer"})},save:function(){this.$store.dispatch("editor/saveEditFile",{id:this.$route.params.id})},pageAttrInit:function(){"0"===this.pageAttrAuxiliaryLine.width&&"0"===this.pageAttrAuxiliaryLine.height&&(this.pageAttrAuxiliaryLine={height:window.screen.height,width:window.screen.width,isAuto:!0})},openDevModal:function(){this.tempJson=Object(g["d"])(this.editFile),this.isEditorModalShow=!0},saveDevModal:function(){this.$store.commit("editor/SET_EDIT_FILE",Object(g["d"])(this.tempJson)),this.isEditorModalShow=!1},canceDevlModal:function(){this.tempJson={},this.isEditorModalShow=!1},toggle:function(){this.$refs["fullscreen"].toggle()},fullscreenChange:function(t){this.fullscreen=t},saveDashboardPageSetting:function(t){},saveWidgetItemSetting:function(t){console.log(t);var e=this.editFile.content[this.currentTabIndex].components.findIndex((function(e){return e.$id===t.$id}));this.$set(this.editFile.content[this.currentTabIndex].components[e],"$property",Object(g["d"])(t.$property)),this.$set(this.editFile.content[this.currentTabIndex].components[e],"$dataSource",Object(g["d"])(t.$dataSource)),console.log(t),this.addState()},addState:function(){this.$store.commit("editor/ADD_STATE")},onScroll:function(){document.getElementById("rulerTop").scrollLeft=this.$refs.content.scrollLeft,document.getElementById("rulerLeft").scrollTop=this.$refs.content.scrollTop},openSelectAssetsModal:function(){this.assetsSelection.isModalShow=!0,this.assetsSelection.selectedWidget=this.widgetSelected[0]},updateAssetSelection:function(t){console.log(t),this.assetsSelection.selectedAsset=t},saveWidgetAssetsSelectedModal:function(){var t=this.assetsSelection.selectedWidget,e=this.assetsSelection.selectedAsset,i=this.editFile.content[this.currentTabIndex].components.findIndex((function(e){return e.$id===t.$id}));this.$set(this.editFile.content[this.currentTabIndex].components[i]["$property"],"assetStates",Object(g["d"])(e)),console.log(t),this.addState(),this.assetsSelection.isModalShow=!1},cancelWidgetAssetsSelectedModal:function(){this.assetsSelection.isModalShow=!1,this.assetsSelection.selectedWidget={},this.assetsSelection.selectedAsset={}},lockWidget:function(){0!==this.widgetSelectedWithUnLock.length&&this.$refs.workArea.lockedWidgetContextmenu()},unlockWidget:function(){0!==this.widgetSelectedWithLock.length&&this.$refs.workArea.unlockedWidgetContextmenu()},pasteWidget:function(){this.singleSelected&&this.widgetCopied.length>0&&this.$refs.workArea.pasteWidget()},copyWidget:function(){this.singleSelected&&this.$refs.workArea.setWidgetCopied()},deleteWidget:function(){this.widgetSelected.length>0&&this.$refs.workArea.deleteWidget()},handleTabClick:function(t){this.$store.commit("editor/SWITCH_CURRENT_TAB",{index:parseInt(t.index)})},handleSetLanguage:function(t){this.$i18n.locale=t,this.$store.dispatch("app/setLanguage",t),this.$message({message:this.$message.success(this.$t("App.Modified_language_successfully")),type:"success"})},zoomIn:function(){this.editScale<1.5&&(this.editScale+=.25)},zoomOut:function(){this.editScale>.5&&(this.editScale-=.25)}}},jt=Dt,Rt=(i("4ace"),i("2b00"),Object(u["a"])(jt,n,o,!1,null,"30b98a8c",null));e["default"]=Rt.exports},b007:function(t,e,i){},b646:function(t,e,i){"use strict";i("b007")},bec5:function(t,e,i){"use strict";i("63d9")},c7f8:function(t,e,i){},c866:function(t,e,i){"use strict";i("da19")},cb03:function(t,e,i){},da19:function(t,e,i){},ddf6:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-tab",class:{left:"left"===t.direction,right:"right"===t.direction}},[i("div",{staticClass:"side-tab__title",on:{click:t.toggleContent}},[i("div",{staticClass:"side-tab__title__text",class:{actived:"first"==t.actTab},on:{click:function(e){return e.stopPropagation(),t.tabClick("first")}}},[i("div",{staticClass:"label"},[t._v(t._s(t.title[0]||""))]),i("div",{staticClass:"line"})]),t.title.length>1?i("div",{staticClass:"side-tab__title__text",class:{actived:"second"==t.actTab},staticStyle:{"margin-left":"20px"},on:{click:function(e){return e.stopPropagation(),t.tabClick("second")}}},[i("div",{staticClass:"label"},[t._v(" "+t._s(t.title[1]||""))]),i("div",{staticClass:"line"})]):t._e(),i("div",{staticClass:"side-tab__title__icon"},[t.isShowScoped?t._e():i("i",{staticClass:"fa fa-caret-left",attrs:{"aria-hidden":"true"}}),t.isShowScoped?i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}):t._e()])]),t.isShowScoped?i("div",{staticClass:"side-tab__content"},["first"==t.actTab?t._t("first"):t._e(),"second"==t.actTab?t._t("second"):t._e()],2):t._e()])},o=[],a={name:"SideTab",props:{title:{type:Array,default:function(){return[]}},isShow:{type:Boolean,default:!0},direction:{type:String,default:"left"}},data:function(){return{isShowScoped:!0,actTab:"first"}},watch:{isShow:{handler:function(t,e){t!==e&&(this.isShowScoped=t)},deep:!0}},methods:{toggleContent:function(){this.isShowScoped=!this.isShowScoped,this.$emit("update",!this.isShowScoped)},tabClick:function(t){this.actTab=t}}},s=a,r=(i("851b"),i("2877")),l=Object(r["a"])(s,n,o,!1,null,null,null);e["a"]=l.exports}}]);