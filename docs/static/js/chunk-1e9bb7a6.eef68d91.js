(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e9bb7a6"],{"13f0":function(t,e,n){},"1d40":function(t,e,n){},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("6b75");function r(t){if(Array.isArray(t))return Object(i["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=n("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||a(t)||Object(o["a"])(t)||s()}},"3bc6":function(t,e,n){"use strict";n("1d40")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r=n("5899"),a="["+r+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"6e6b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"viewer-main"},[t.isLoading?n("div",{staticClass:"loading-data",attrs:{id:"loading"}},[t._m(0)]):t._e(),n("div",{staticClass:"viewer-main__content",attrs:{id:"content"}},[n("fullscreen",{ref:"fullscreen",staticClass:"container",attrs:{fullscreen:t.fullscreen,background:"#EEE"},on:{"update:fullscreen":function(e){t.fullscreen=e}}},[n("div",{staticClass:"viewer-page-tab"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleTabClick},model:{value:t.pageTab,callback:function(e){t.pageTab=e},expression:"pageTab"}},t._l(t.pageTabs,(function(t){return n("el-tab-pane",{key:t.id,attrs:{label:t.label,name:t.id}})})),1)],1),t.isLoading?t._e():n("viewer")],1)],1),n("div",{staticClass:"fullscreen-fix"},[n("div",{staticClass:"up-button",on:{click:t.toggle}},[t._v("full screen")]),n("div",{staticClass:"down-button",on:{click:t.backToEditor}},[t._v("back to editor")])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading-data__logo"},[n("ul",{staticClass:"loading-data__dot"},[n("li"),n("li"),n("li")])])}],a=(n("d81d"),n("96cf"),n("1da1")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-area-container"},[n("div",{staticClass:"grid-container",style:{width:t.colNum*t.defaultGridSize+10+"px"},attrs:{id:"viewArea"}},[n("div",{staticClass:"grid-viewer-area",attrs:{id:"viewer"},on:{dragover:function(t){t.stopPropagation(),t.preventDefault()}}},[n("grid-layout",{staticStyle:{width:"100%"},attrs:{layout:t.componentScope,"col-num":parseInt(t.colNum),"row-height":t.defaultWidgetSize,"is-draggable":!1,"is-resizable":!1,"prevent-collision":!0,"vertical-compact":!1,"use-css-transforms":!0,responsive:!1,margin:[10,10]}},t._l(t.componentScope,(function(e){return n("grid-item",{key:e.$id,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i}},[e.status?t._e():n("div",{staticClass:"status-mask"},[n("div",{staticClass:"inside-text"},[t._v("X")])]),n(e.$type._template,{tag:"component",attrs:{config:e,mode:"viewer"},on:{openSettingModal:t.openSettingModal}})],1)})),1)],1)])])},s=[],c=n("2909"),u=n("84c2"),d=n("1e6a"),l=n.n(d),f={name:"Viewer",components:{GridLayout:u["a"].GridLayout,GridItem:u["a"].GridItem},data:function(){return{imgGrid:l.a,dataSourceMapping:{},ws:null,componentScope:[]}},computed:{defaultWidgetSize:function(){return this.$store.state.editor.defaultWidgetSize},defaultGridSize:function(){return this.$store.state.editor.defaultWidgetSize+10},colNum:function(){return Math.max.apply(Math,Object(c["a"])(this.widgetComps.map((function(t){return t.x+t.w}))))},dataSourceMappingStr:function(){return this.dataSourceMapping?JSON.stringify(this.dataSourceMapping):""},widgetComps:function(){return this.$store.state.editor.editFile.content[this.$store.state.editor.currentTabIndex].components},editFile:function(){return this.$store.state.editor.editFile}},beforeDestroy:function(){this.ws&&(console.log("stop ws"),this.ws.close())},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.componentScope=Object(c["a"])(t.widgetComps),t.loading=!1;case 3:case"end":return e.stop()}}),e)})))()}}},p=f,g=(n("3bc6"),n("2877")),b=Object(g["a"])(p,o,s,!1,null,"18e61bfa",null),h=b.exports,m={name:"App",components:{viewer:h},data:function(){return{pageTab:"",isLoading:!0,isSidePanelShow:!0,tempJson:{},fullscreen:!1}},computed:{pageTabs:function(){return this.$store.state.editor.editFile.content.map((function(t){return{label:t.label,id:t.id}}))},editFile:function(){return this.$store.state.editor.editFile},screenWidth:function(){return this.editFile.content.screenWidth},screenHeight:function(){return this.editFile.content.screenHeight},currentTabIndex:function(){return this.$store.state.editor.currentTabIndex}},watch:{currentTabIndex:{handler:function(t,e){var n=this;t!==e&&this.$nextTick((function(){var t=n.$store.state.editor.currentTabIndex,e=n.$store.state.editor.editFile.content;console.log(e[t]),n.pageTab=e[t].id}))},deep:!0}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$store.dispatch("editor/loadEditFile",t.$route.params.id);case 3:t.pageTab=t.pageTabs[0].id||"",t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},toggle:function(){this.$refs["fullscreen"].toggle()},backToEditor:function(){this.$router.push({path:"/editor"})},fullscreenChange:function(t){this.fullscreen=t},handleTabClick:function(t){console.log(t),this.$store.commit("editor/SWITCH_CURRENT_TAB",{index:parseInt(t.index)})}}},v=m,w=(n("ce7a8"),Object(g["a"])(v,i,r,!1,null,"d7760006",null));e["default"]=w.exports},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),c=n("c6b6"),u=n("7156"),d=n("c04e"),l=n("d039"),f=n("7c73"),p=n("241c").f,g=n("06cf").f,b=n("9bf2").f,h=n("58a8").trim,m="Number",v=r[m],w=v.prototype,_=c(f(w))==m,I=function(t){var e,n,i,r,a,o,s,c,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=u.slice(2),o=a.length,s=0;s<o;s++)if(c=a.charCodeAt(s),c<48||c>r)return NaN;return parseInt(a,i)}return+u};if(a(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,T=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof T&&(_?l((function(){w.valueOf.call(n)})):c(n)!=m)?u(new v(I(e)),n,T):I(e)},y=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;y.length>C;C++)s(v,S=y[C])&&!s(T,S)&&b(T,S,g(v,S));T.prototype=w,w.constructor=T,o(r,m,T)}},ce7a8:function(t,e,n){"use strict";n("13f0")}}]);